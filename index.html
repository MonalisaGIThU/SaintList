<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</title>
    <!-- Include a simple Google Font for better typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- Main stylesheet -->
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header>
        <!-- Updated bear icon: use the donut‚Äëhugging bear for extra charm -->
        <img src="img/bear-donut.png" alt="Bear icon" class="bear-icon" />
        <div class="header-text">
            <h1>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
            <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏î‡∏≤‡∏¢</p>
        </div>
    </header>

    <main>
        <!-- Saved lists management -->
        <section class="list-management">
            <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ</h2>
            <div class="saved-controls">
                <select id="savedListsSelect">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ --</option>
                </select>
                <button id="loadListButton" class="btn secondary">‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
                <button id="deleteListButton" class="btn danger">‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            </div>
        </section>

    <!-- Button to toggle the manual item form for custom entries -->
    <div class="manual-add-toggle">
        <button id="toggleFormButton" class="btn primary">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á)</button>
    </div>

    <!-- Product selection grid (new UI) -->
    <section class="product-grid">
        <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
        <!-- Container for product categories and their grids -->
        <div id="productGrid"></div>
    </section>

    <!-- Old form to add new items (hidden by default). Kept for fallback use -->
    <section class="input-form hidden">
        <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
        <form id="itemForm" autocomplete="off">
            <div class="form-group">
                <label for="itemName"><span class="label-icon">üõçÔ∏è</span> ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                <!-- Use datalist for suggestions -->
                <input list="itemSuggestions" id="itemName" name="itemName" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" required />
                <datalist id="itemSuggestions"></datalist>
            </div>
            <div class="form-group">
                <label for="itemQty"><span class="label-icon">üî¢</span> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                <input type="number" id="itemQty" name="itemQty" min="1" value="1" required />
            </div>
            <!-- Input for specifying the unit of the custom product -->
            <div class="form-group">
                <label for="itemUnit"><span class="label-icon">üì¶</span> ‡∏´‡∏ô‡πà‡∏ß‡∏¢</label>
                <input type="text" id="itemUnit" name="itemUnit" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏ß‡∏î ‡∏ã‡∏≠‡∏á ‡πÅ‡∏û‡∏Ñ" />
            </div>
            <div class="form-group">
                <label for="itemPrice"><span class="label-icon">üí∞</span> ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (‡∏ö‡∏≤‡∏ó)</label>
                <input type="number" id="itemPrice" name="itemPrice" min="0" value="0" step="0.01" required />
            </div>
            <div class="form-actions">
                <button type="submit" class="btn primary">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                <button type="button" id="clearListButton" class="btn warning">‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            </div>
        </form>
    </section>

        <!-- Display the current items -->
        <section class="item-list">
            <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
            <div class="table-wrapper">
                <table id="itemTable">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                            <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                            <th>‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                            <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (‡∏ö‡∏≤‡∏ó)</th>
                            <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏ó)</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- rows will be injected via JavaScript -->
                    </tbody>
                </table>
            </div>
            <div class="totals">
                <p id="totalCount">‡∏£‡∏ß‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: 0</p>
                <p id="totalPrice">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: 0 ‡∏ö‡∏≤‡∏ó</p>
            </div>
        </section>

        <!-- Summary and save -->
        <section class="summary-actions">
            <button id="summarizeButton" class="btn success">‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
        <!-- Button to preview the bill/table at any time -->
        <button id="showBillButton" class="btn info" onclick="previewBill()">‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button>
        </section>
    </main>

    <!-- Modal for summary and save -->
    <div id="summaryModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeModal" class="close">&times;</span>
            <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
            <div class="summary-text">
                <textarea id="summaryOutput" readonly></textarea>
            </div>
            <div class="save-list">
                <label for="listName">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô:</label>
                <input type="text" id="listName" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 11-08-2025" />
                <button id="saveListButton" class="btn primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            </div>
        </div>
    </div>

    <!-- Overlay for bill/invoice preview -->
    <div id="billOverlay" class="modal hidden">
        <div class="bill-content">
            <span id="closeBill" class="close">&times;</span>
            <div id="billBody"></div>
        </div>
    </div>

    <!-- Include the JavaScript logic -->
    <script src="script.js"></script>

    <!-- Decorative bears positioned around the page -->
    <div class="decorations">
      <!-- Large bears anchored to bottom corners -->
      <img src="img/bear-farmer.png" alt="Bear farmer" class="decor-left" />
      <img src="img/bear-rainbow.png" alt="Bear rainbow" class="decor-right" />
      <!-- Small cute bears floating near the top corners -->
      <img src="img/bear-pompom.png" alt="Bear pompom" class="decor-top-right" />
      <img src="img/bear-icing.png" alt="Bear icing" class="decor-top-left" />
    </div>
</body>
</html>